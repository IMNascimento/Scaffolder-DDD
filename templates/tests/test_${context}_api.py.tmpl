from __future__ import annotations
import uuid

async def test_create_and_get_${context}(client):
    payload = {"name": "Alice", "email": "alice@example.com"}
    r = await client.post("${api_prefix}/${context}s/", json=payload)
    assert r.status_code == 201, r.text
    data = r.json()
    uid = data["id"]
    assert uuid.UUID(uid)

    r2 = await client.get(f"${api_prefix}/${context}s/{uid}")
    assert r2.status_code == 200
    assert r2.json()["email"] == "alice@example.com"